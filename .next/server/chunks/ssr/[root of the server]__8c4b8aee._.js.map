{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/furkan.demirbozan/Desktop/netsisNextjs-main/app/utils/auth.ts"],"sourcesContent":["import { Cookies } from 'next-client-cookies';\n\nlet cookies: Cookies | null = null;\n\n// Client cookies'i ayarla\nexport const setCookiesClient = (cookiesClient: Cookies) => {\n  cookies = cookiesClient;\n};\n\n// Token için kullanılacak key'ler\nconst TOKEN_KEY = 'token';\n\n// Cookie ayarları\nconst COOKIE_OPTIONS = {\n  path: '/',\n  maxAge: 7 * 24 * 60 * 60, // 7 gün\n  sameSite: 'strict'\n};\n\n// Token'ı kaydet (hem localStorage hem cookie'ye)\nexport const saveToken = (token: string) => {\n  try {\n    // LocalStorage'a kaydet\n    localStorage.setItem(TOKEN_KEY, token);\n    \n    // Cookie'ye kaydet\n    document.cookie = `${TOKEN_KEY}=${token}; path=${COOKIE_OPTIONS.path}; max-age=${COOKIE_OPTIONS.maxAge}; samesite=${COOKIE_OPTIONS.sameSite}`;\n    \n    return true;\n  } catch (error) {\n    console.error('Token kaydedilirken hata:', error);\n    return false;\n  }\n};\n\n// Token'ı getir (önce localStorage, yoksa cookie'den)\nexport const getToken = (): string | null => {\n  try {\n    // Önce localStorage'dan dene\n    const localToken = localStorage.getItem(TOKEN_KEY);\n    if (localToken) return localToken;\n\n    // localStorage'da yoksa cookie'den dene\n    const cookies = document.cookie.split(';');\n    const tokenCookie = cookies.find(c => c.trim().startsWith(`${TOKEN_KEY}=`));\n    if (tokenCookie) {\n      const token = tokenCookie.split('=')[1];\n      // Cookie'den token alındıysa, localStorage'a da kaydedelim (senkronizasyon)\n      localStorage.setItem(TOKEN_KEY, token);\n      return token;\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Token alınırken hata:', error);\n    return null;\n  }\n};\n\n// Token'ı sil (hem localStorage hem cookie'den)\nexport const removeToken = () => {\n  try {\n    // LocalStorage'dan sil\n    localStorage.removeItem(TOKEN_KEY);\n    \n    // Cookie'den sil\n    document.cookie = `${TOKEN_KEY}=; path=${COOKIE_OPTIONS.path}; expires=Thu, 01 Jan 1970 00:00:00 GMT`;\n    \n    return true;\n  } catch (error) {\n    console.error('Token silinirken hata:', error);\n    return false;\n  }\n};\n\n// Token var mı kontrol et\nexport const isAuthenticated = (): boolean => {\n  return !!getToken();\n}; "],"names":[],"mappings":";;;;;;;AAEA,IAAI,UAA0B;AAGvB,MAAM,mBAAmB,CAAC;IAC/B,UAAU;AACZ;AAEA,kCAAkC;AAClC,MAAM,YAAY;AAElB,kBAAkB;AAClB,MAAM,iBAAiB;IACrB,MAAM;IACN,QAAQ,IAAI,KAAK,KAAK;IACtB,UAAU;AACZ;AAGO,MAAM,YAAY,CAAC;IACxB,IAAI;QACF,wBAAwB;QACxB,aAAa,OAAO,CAAC,WAAW;QAEhC,mBAAmB;QACnB,SAAS,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,MAAM,OAAO,EAAE,eAAe,IAAI,CAAC,UAAU,EAAE,eAAe,MAAM,CAAC,WAAW,EAAE,eAAe,QAAQ,EAAE;QAE7I,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;IACT;AACF;AAGO,MAAM,WAAW;IACtB,IAAI;QACF,6BAA6B;QAC7B,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY,OAAO;QAEvB,wCAAwC;QACxC,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CAAC;QACtC,MAAM,cAAc,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,UAAU,CAAC,GAAG,UAAU,CAAC,CAAC;QACzE,IAAI,aAAa;YACf,MAAM,QAAQ,YAAY,KAAK,CAAC,IAAI,CAAC,EAAE;YACvC,4EAA4E;YAC5E,aAAa,OAAO,CAAC,WAAW;YAChC,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACT;AACF;AAGO,MAAM,cAAc;IACzB,IAAI;QACF,uBAAuB;QACvB,aAAa,UAAU,CAAC;QAExB,iBAAiB;QACjB,SAAS,MAAM,GAAG,GAAG,UAAU,QAAQ,EAAE,eAAe,IAAI,CAAC,uCAAuC,CAAC;QAErG,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACT;AACF;AAGO,MAAM,kBAAkB;IAC7B,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/furkan.demirbozan/Desktop/netsisNextjs-main/app/components/Navbar.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { removeToken } from '../utils/auth'; // Import the removeToken function\n\ninterface NavbarProps {\n  onTokenRefresh: () => Promise<void>;\n  isDarkMode: boolean;\n  onThemeToggle: () => void;\n}\n\nexport default function Navbar({ onTokenRefresh, isDarkMode, onThemeToggle }: NavbarProps) {\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const router = useRouter();\n\n  const handleTokenRefresh = async () => {\n    try {\n      setIsRefreshing(true);\n      await onTokenRefresh();\n      // Show success message\n      const successMessage = document.createElement('div');\n      successMessage.className = `fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg`;\n      successMessage.textContent = 'Token başarıyla yenilendi!';\n      document.body.appendChild(successMessage);\n      \n      // Remove message after 3 seconds\n      setTimeout(() => {\n        document.body.removeChild(successMessage);\n      }, 3000);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  const handleLogout = () => {\n    // Remove token from both localStorage and cookies using the utility function\n    try {\n      // Clear token from localStorage\n      localStorage.removeItem('token');\n      \n      // Clear token from cookie\n      document.cookie = `token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`;\n      \n      // Use the auth utility if available\n      if (typeof removeToken === 'function') {\n        removeToken();\n      }\n      \n      console.log('Logged out successfully, redirecting to login page');\n      \n      // Redirect to login page\n      router.push('/login');\n    } catch (error) {\n      console.error('Error during logout:', error);\n      // Ensure redirect happens even if there's an error\n      router.push('/login');\n    }\n  };\n\n  return (\n    <nav className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} shadow-lg`}>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center\">\n            <h1 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n              AYDIN DESTECH NETSIS REST API\n            </h1>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={onThemeToggle}\n              className={`p-2 rounded-md ${\n                isDarkMode \n                  ? 'text-gray-300 hover:text-white hover:bg-gray-700' \n                  : 'text-gray-700 hover:text-gray-900 hover:bg-gray-100'\n              }`}\n            >\n              {isDarkMode ? (\n                <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n              ) : (\n                <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n                </svg>\n              )}\n            </button>\n\n            <button\n              onClick={handleTokenRefresh}\n              disabled={isRefreshing}\n              className={`px-4 py-2 rounded-md text-sm font-medium ${\n                isRefreshing\n                  ? 'bg-blue-400 cursor-not-allowed'\n                  : isDarkMode\n                    ? 'bg-blue-600 hover:bg-blue-700 text-white'\n                    : 'bg-blue-600 hover:bg-blue-700 text-white'\n              } transition-colors duration-200 flex items-center space-x-2`}\n            >\n              {isRefreshing ? (\n                <>\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  <span>Yenileniyor...</span>\n                </>\n              ) : (\n                <>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                  </svg>\n                  <span>Token Yenile</span>\n                </>\n              )}\n            </button>\n\n            <button\n              onClick={handleLogout}\n              className={`px-4 py-2 rounded-md text-sm font-medium ${\n                isDarkMode\n                  ? 'bg-red-600 hover:bg-red-700 text-white'\n                  : 'bg-red-600 hover:bg-red-700 text-white'\n              } transition-colors duration-200 flex items-center space-x-2`}\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n              </svg>\n              <span>Çıkış Yap</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}